# 음성 기능 사용 가이드

## 개요
헌법 AI 서비스에 음성 입력 및 출력 기능이 추가되었습니다. Web Speech API를 사용하여 브라우저에서 직접 음성 인식과 음성 합성을 제공합니다.

## 주요 기능

### 1. 음성 입력 (Speech-to-Text)
- 🎤 버튼을 클릭하여 음성 인식 시작/중지
- 한국어 음성 인식 지원
- 실시간 음성 상태 표시
- 자동 텍스트 입력 필드 설정

### 2. 음성 출력 (Text-to-Speech)
- AI 응답 자동 음성 출력
- 한국어 음성 합성 지원
- 음성 속도, 높이, 볼륨 조절 가능
- 수동 음성 출력 중지 기능

## 사용 방법

### 기본 설정
1. ⚙️ 설정 버튼 클릭
2. "음성 기능 설정" 섹션에서 설정 조정
3. "음성 기능 사용" 토글 활성화
4. "AI 응답 자동 음성 출력" 토글 활성화 (선택사항)
5. 음성 속도, 높이, 볼륨 조절
6. 설정 저장

### 음성 입력 사용
1. **메인 화면에서**: 🎤 버튼 클릭 → 음성으로 질문 → 자동으로 검색창에 입력
2. **챗봇 모드에서**: 🎤 버튼 클릭 → 음성으로 질문 → 자동으로 메시지 전송

### 음성 출력 사용
- **자동 모드**: AI 응답 시 자동으로 음성 출력
- **수동 모드**: 🎤 버튼을 다시 클릭하여 음성 중지

## 설정 옵션

### 음성 기능 사용
- **활성화**: 음성 입력/출력 기능 사용 가능
- **비활성화**: 음성 기능 완전 비활성화

### AI 응답 자동 음성 출력
- **활성화**: AI가 답변할 때마다 자동으로 음성 출력
- **비활성화**: 수동으로만 음성 출력

### 음성 속도 (0.5 ~ 2.0)
- **0.5**: 매우 느림
- **1.0**: 보통 (기본값)
- **2.0**: 매우 빠름

### 음성 높이 (0.5 ~ 2.0)
- **0.5**: 낮은 음성
- **1.0**: 보통 (기본값)
- **2.0**: 높은 음성

### 음성 볼륨 (0 ~ 1.0)
- **0**: 무음
- **1.0**: 최대 볼륨 (기본값)

## 브라우저 지원

### 지원되는 브라우저
- **Chrome**: 완전 지원 (권장)
- **Edge**: 완전 지원
- **Safari**: 제한적 지원
- **Firefox**: 제한적 지원

### 필요한 권한
- **마이크 접근 권한**: 음성 입력을 위해 필요
- **HTTPS 연결**: 보안상 HTTPS에서만 작동

## 문제 해결

### 음성 인식이 작동하지 않음
1. **브라우저 확인**: Chrome 또는 Edge 사용 권장
2. **마이크 권한 확인**: 브라우저 설정에서 마이크 권한 허용
3. **HTTPS 연결 확인**: 로컬 서버 사용 시 `localhost` 또는 HTTPS 필요
4. **음성 기능 활성화 확인**: 설정에서 음성 기능이 활성화되어 있는지 확인

### 음성 출력이 작동하지 않음
1. **브라우저 확인**: Web Speech API 지원 브라우저 사용
2. **음성 설정 확인**: 설정에서 자동 음성 출력이 활성화되어 있는지 확인
3. **시스템 볼륨 확인**: 컴퓨터 볼륨이 켜져 있는지 확인

### 음성 인식 정확도가 낮음
1. **마이크 품질**: 좋은 마이크 사용 권장
2. **환경 소음**: 조용한 환경에서 사용
3. **발음**: 명확하고 천천히 발음
4. **한국어 사용**: 한국어로 명확하게 발음

### 음성 출력 품질이 낮음
1. **음성 속도 조절**: 설정에서 속도를 낮춰보세요
2. **음성 높이 조절**: 설정에서 높이를 조절해보세요
3. **브라우저 확인**: Chrome에서 가장 좋은 품질 제공

## 고급 기능

### 키보드 단축키
- **음성 입력 시작/중지**: 🎤 버튼 클릭
- **음성 출력 중지**: 🎤 버튼 다시 클릭 (음성 출력 중일 때)

### 자동 기능
- **자동 메시지 전송**: 챗봇 모드에서 음성 인식 완료 시 자동 전송
- **자동 음성 출력**: AI 응답 시 자동 음성 출력 (설정에 따라)

### 상태 표시
- **듣는 중**: 🎤 버튼이 녹색으로 깜빡임
- **말하는 중**: 🎤 버튼이 파란색으로 깜빡임
- **상태 텍스트**: "듣는 중...", "말하는 중..." 표시

## 기술 사양

### Web Speech API
- **SpeechRecognition**: 음성 인식 API
- **SpeechSynthesis**: 음성 합성 API
- **언어**: 한국어 (ko-KR)
- **인코딩**: UTF-8

### 성능 최적화
- **실시간 처리**: 음성 인식 결과 즉시 반영
- **메모리 효율성**: 브라우저 메모리 사용 최적화
- **배터리 효율성**: 모바일에서 배터리 사용 최적화

## 개인정보 보호

### 데이터 처리
- **로컬 처리**: 음성 데이터는 브라우저에서만 처리
- **서버 전송 없음**: 음성 데이터가 서버로 전송되지 않음
- **임시 저장**: 음성 인식 결과만 텍스트로 변환하여 사용

### 권한 관리
- **마이크 권한**: 사용자가 직접 허용/거부 가능
- **권한 해제**: 브라우저 설정에서 언제든지 해제 가능

## 업데이트 계획
- [ ] 다국어 음성 지원
- [ ] 음성 명령 기능
- [ ] 음성 필터링 (노이즈 제거)
- [ ] 음성 품질 향상
- [ ] 오프라인 음성 인식
- [ ] 음성 기반 대화 모드 